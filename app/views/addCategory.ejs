<%- include('layout') %>
<style>
    .container-1 {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 50 0px;
    }

    .card {
        max-width: 500px; /* กำหนดขนาดการ์ด */
        width: 100%;
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        padding: 10px;
    }

    .card-header {
        background-color: #ffffff;
        color: #3c3b3b;
        font-weight: bold;
        border-radius: 15px 15px 0 0;
        text-align: center;
        padding: 20px;
        border-bottom: 2px solid #fed41a;
    }


    .card-body {
        padding: 20px;
    }

    .lead {
        font-size: 1.2em;
    }

    .form-group {
        margin-bottom: 40px;
    }

    label {
        font-weight: bold;
        color: #3c3b3b;
    }

    .form-control {
        border-radius: 10px;
    }

    .btn-primary {
        background-color: #fed41a;
        color: #3c3b3b;
        font-weight: bold;
        border: none;
        border-radius: 10px;
        width: 70%;
        height: 50px;
        margin-left: auto;
        margin-right: auto;
        display: block;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }

    .btn-primary:hover {
        background-color: #0056b3;
    }

    #custom-message {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    textarea:focus {
    box-shadow: 0 0 0 0.2rem rgba(253, 216, 53, 0.5); /* เพิ่มเงาเมื่อได้รับโฟกัส */
    border-color: #fed41a; /* เปลี่ยนสีเมื่อได้รับโฟกัส */
}

</style>

<div class="container-1">
    <div class="card">
        <div class="card-header">
            <h4 class="mb-0"><b>เพิ่มหมวดหมู่</b></h4>
        </div>
        <div class="card-body">
            <form class="needs-validation" novalidate action="/category/add" method="post">
                <div class="form-group">
                    <% if(message.length > 0) { %>
                    <div class="mt-3 alert alert-danger" id="custom-message">
                        <%= message %>
                    </div>
                    <% } %>

                    <label for="name" class="lead">กรุณากรอกหมวดหมู่</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                    <div class="invalid-feedback">กรุณากรอกหมวดหมู่</div>

                    <div class="mt-5">
                        <h5 class="text-center"><b>หมวดหมู่ที่มีอยู่</b></h5>
                        <ul class="list-group mt-3">
                            <% categories.forEach((item)=> { %>
                            <li class="list-group-item text-center">
                                <%= item.name %>
                            </li>
                            <% }) %>
                        </ul>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">บันทึกข้อมูล</button>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">
    setTimeout(function() {
        document.getElementById('custom-message').style.display = 'none';
    }, 3000);
</script>

<script>
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
</script>
